!function(t,e){"function"==typeof define&&define.amd?define(function(){return e()}):"undefined"!=typeof exports&&module.exports?module.exports=e():t.store=e()}(this,function(){var t={version:"0.1",stringify:function(t){return void 0===t||"function"==typeof t?t+"":JSON.stringify(t)},parse:function(t){try{return JSON.parse(t)}catch(e){return t}},get:function(t,e){return t.getItem(e)},set:function(t,e,n){t.setItem(e,n)},remove:function(t,e){t.removeItem(e)},key:function(t,e){return t.key(e)},length:function(t){return t.length},clear:function(t){t.clear()},storeAPI:{_area:localStorage,keys:function(){return this.each(function(t,e){e.push(t)},[])},size:function(){return this.keys().length},each:function(e,n){for(var r=0,i=t.length(this._area);i>r;r++){var o=t.key(this._area,r);if(void 0!==o&&e.call(this,o,n||this.get(o))===!1)break;i>t.length(this._area)&&(i--,r--)}return n||this},get:function(e){var n=t.get(this._area,e);return null!==n?t.parse(n):n},getAll:function(){return this.each(function(t,e){e[t]=this.get(t)},{})},set:function(e,n){return t.set(this._area,e,t.stringify(n))},setAll:function(t){for(var e in t)this.set(e,t[e])},remove:function(e){var n=this.get(e);return t.remove(this._area,e),n},clear:function(){t.clear(this._area)}}};return t.storeAPI});